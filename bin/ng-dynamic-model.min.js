!function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="bin/",t(t.s=1)}([function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){e=e.substring(e.lastIndexOf(".")+1);var t=e.replace(/([A-Z]+)/g," $1").replace(/\W+/g," ").replace(/\s{2,}/g," ");return t[0].toUpperCase()+t.substring(1)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.ModelField=function(){function e(t,i,o,a){var u=this;n(this,e),this.name=i,this.label=r(i),this.$$model=t,this.$$value=o,this.$$q=a,this.$$active=!0,this.$$dirty=!1,this.$$listeners={},this.$$validationId=0,this.watch(function(e,t,i){e!==u.$$value&&(u.$$value=e,u.setDirty(!0)),u.$emit("change",u,e,t)})}return o(e,[{key:"isValid",value:function(){return this.isValidated()&&this.$$valid}},{key:"isValidated",value:function(){return this.$$validated}},{key:"isDirty",value:function(){return this.$$dirty}},{key:"isActive",value:function(){return this.$$active}},{key:"val",value:function(){return this.$$value}},{key:"getErrors",value:function(){return this.$$errors}},{key:"hasValidation",value:function(){return this.$$validators&&this.$$validators.length||this.$$asyncValidators&&this.$$asyncValidators.length}},{key:"setValue",value:function(e){this.$$lastActiveValue&&(this.$$lastActiveValue=void 0),this.$$model.set(this.name,e)}},{key:"setDirty",value:function(e){this.$$dirty=!!e,this.$$errors=void 0,this.setValidated(!1)}},{key:"setValidated",value:function(e){this.$$validated=!!e}},{key:"setActive",value:function(e){if(this.$$active=!!e,this.$$active&&this.$$lastActiveValue)this.setValue(this.$$lastActiveValue);else if(!this.$$active){var t=this.value();this.setValue(void 0),this.$$lastActiveValue=t}this.$emit("toggle",this,this.$$active)}},{key:"addValidator",value:function(e){return this.$$validators||(this.$$validators=[]),this.$$validators.push(e),this}},{key:"addAsyncValidator",value:function(e){return this.$$asyncValidators||(this.$$asyncValidators=[]),this.$$asyncValidators.push(e),this}},{key:"validate",value:function(){function e(e){"string"==typeof e&&(e=e.replace("%field%",this.label)),r.push(e)}var t=this,i=this.$$asyncValidators&&this.$$asyncValidators.length,n=this.$$validators&&this.$$validators.length,r=[],o=!n||this.$processValidators(e);if(!o||!i)return this.$completeValidation(o,r),this.$$q.resolve(o);var a=++this.$$validationId;return this.$$deferredValidation||(this.$$deferredValidation=this.$$q.defer()),this.$processAsyncValidators(e).then(function(e){a===t.$$validationId&&t.$completeValidation(e,r)},function(e){if(a===t.$$validationId){var i=t.$$deferredValidation;t.$$deferredValidation=null,i&&i.reject(e)}}),this.$$deferredValidation.promise}},{key:"watch",value:function(e){return this.$$model.watch(this.name,e)}},{key:"on",value:function(e,t){var i=this;if("function"!=typeof t)throw new TypeError("fn must be a valid function");return this.$$listeners.hasOwnProperty(e)?this.$$listeners[e].push(t):this.$$listeners[e]=[t],function(){return i.off(e,t)}}},{key:"off",value:function(e,t){if("function"!=typeof t)throw new TypeError("fn must be a valid function");if(listeners&&listeners.length>0){var i=listeners.indexOf(t);i>=0&&listeners.splice(i,1)}}},{key:"$emit",value:function(e){if(this.$$listeners.hasOwnProperty(e)&&0!==this.$$listeners[e].length)for(var t=this.$$listeners[e].slice(),i=arguments.length,n=i>4?Array.prototype.slice(arguments,1):null,r=0,o=t.length;r<o;++r){var a=t[r];switch(i){case 1:a();break;case 2:a(arguments[1]);break;case 3:a(arguments[1],arguments[2]);break;case 4:a(arguments[1],arguments[2],arguments[3]);break;default:a.apply(void 0,n)}}}},{key:"$processValidators",value:function(e){for(var t=this.$$validators,i=0,n=t.length;i<n;++i)if(!t[i](this,e))return!1;return!0}},{key:"$processAsyncValidators",value:function(e){var t=this,i=this.$$asyncValidators;if(i&&i.length){var n=i.map(function(i){return i(t,e)});return this.$$q.all(n).then(function(e){return e.every(function(e){return e})})}}},{key:"$completeValidation",value:function(e,t){var i=this.$$valid,n=this.$$deferredValidation;this.$$valid=e,this.$$errors=t,this.$$deferredValidation=null,this.setValidated(!0),this.$emit("validate",this,i),n&&n.resolve(e)}}]),e}()},function(e,t,i){"use strict";function n(e){var t=e.dependencies||e.prototype.dependencies;if(!t)return function(){return new e};var i=function(){return new(Function.prototype.bind.apply(e,[null].concat(Array.prototype.slice.call(arguments))))};return i.$inject=t,i}Object.defineProperty(t,"__esModule",{value:!0});var r=i(2);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=i(0);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var a=i(7),u=i(4),s=i(5),l=i(8),c=angular.module("ng-dynamic-model",[]).service("ModelBuilder",a.ModelBuilder).directive("dynamicModel",n(u.DynamicModelDirective)).directive("fieldModelFor",n(s.FieldModelForDirective)).directive("fieldConditionFor",n(l.FieldConditionForDirective));t.default=c.name},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){return e===t}Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(3),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(u),l=i(0);t.Model=function(){function e(t){if(n(this,e),this.$$state=t||{},"object"!==o(this.$$state))throw new TypeError("initialState must be a valid object");this.$$subscribers=[],this.$$fields={}}return a(e,[{key:"getState",value:function(){return this.$$state}},{key:"subscribe",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError("fn must be a valid function");return this.$$subscribers.push(e),function(){return t.unsubscribe(e)}}},{key:"unsubscribe",value:function(e){var t=this.$$subscribers.indexOf(e);t>=0&&this.$$subscribers.splice(t,1)}},{key:"watch",value:function(e,t,i){i=i||r;var n=s.get(this.$$state,e);return this.subscribe(function(r){var o=s.get(r,e);if(!i(n,o)){var a=n;n=o,t(o,a,e)}})}},{key:"set",value:function(e,t){s.set(this.$$state,e,t);for(var i=this.$$subscribers.slice(),n=0,r=i.length;n<r;++n)i[n](this.$$state);return this}},{key:"get",value:function(e,t){return s.get(this.$$state,e,t)}},{key:"field",value:function(e){if(this.$$fields.hasOwnProperty(e))return this.$$fields[e];var t=this.get(e);return this.$$fields[e]=new l.ModelField(this,e,t)}}]),e}()},function(e,t,i){var n,r,o;!function(i,a){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=a():(r=[],n=a,void 0!==(o="function"==typeof n?n.apply(t,r):n)&&(e.exports=o))}(0,function(){"use strict";function e(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function t(t){if(!t)return!0;if(s(t)&&0===t.length)return!0;if("string"!=typeof t){for(var i in t)if(e(t,i))return!1;return!0}return!1}function i(e){return u.call(e)}function n(e){return"object"==typeof e&&"[object Object]"===i(e)}function r(e){return"boolean"==typeof e||"[object Boolean]"===i(e)}function o(e){var t=parseInt(e);return t.toString()===e?t:e}function a(i){function a(t,n){return i.includeInheritedProps||"number"==typeof n&&Array.isArray(t)||e(t,n)}function u(e,t){if(a(e,t))return e[t]}function l(e,t,i,n){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if("string"==typeof t)return l(e,t.split(".").map(o),i,n);var r=t[0],a=u(e,r);return 1===t.length?(void 0!==a&&n||(e[r]=i),a):(void 0===a&&("number"==typeof t[1]?e[r]=[]:e[r]={}),l(e[r],t.slice(1),i,n))}i=i||{};var c=function(e){return Object.keys(c).reduce(function(t,i){return"create"===i?t:("function"==typeof c[i]&&(t[i]=c[i].bind(c,e)),t)},{})};return c.has=function(t,n){if("number"==typeof n?n=[n]:"string"==typeof n&&(n=n.split(".")),!n||0===n.length)return!!t;for(var r=0;r<n.length;r++){var a=o(n[r]);if(!("number"==typeof a&&s(t)&&a<t.length||(i.includeInheritedProps?a in Object(t):e(t,a))))return!1;t=t[a]}return!0},c.ensureExists=function(e,t,i){return l(e,t,i,!0)},c.set=function(e,t,i,n){return l(e,t,i,n)},c.insert=function(e,t,i,n){var r=c.get(e,t);n=~~n,s(r)||(r=[],c.set(e,t,r)),r.splice(n,0,i)},c.empty=function(e,i){if(!t(i)&&null!=e){var o,u;if(o=c.get(e,i)){if("string"==typeof o)return c.set(e,i,"");if(r(o))return c.set(e,i,!1);if("number"==typeof o)return c.set(e,i,0);if(s(o))o.length=0;else{if(!n(o))return c.set(e,i,null);for(u in o)a(o,u)&&delete o[u]}}}},c.push=function(e,t){var i=c.get(e,t);s(i)||(i=[],c.set(e,t,i)),i.push.apply(i,Array.prototype.slice.call(arguments,2))},c.coalesce=function(e,t,i){for(var n,r=0,o=t.length;r<o;r++)if(void 0!==(n=c.get(e,t[r])))return n;return i},c.get=function(e,t,i){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if(null==e)return i;if("string"==typeof t)return c.get(e,t.split("."),i);var n=o(t[0]),r=u(e,n);return void 0===r?i:1===t.length?r:c.get(e[n],t.slice(1),i)},c.del=function(e,i){if("number"==typeof i&&(i=[i]),null==e)return e;if(t(i))return e;if("string"==typeof i)return c.del(e,i.split("."));var n=o(i[0]);return a(e,n)?1!==i.length?c.del(e[n],i.slice(1)):(s(e)?e.splice(n,1):delete e[n],e):e},c}var u=Object.prototype.toString,s=Array.isArray||function(e){return"[object Array]"===u.call(e)},l=a();return l.create=a,l.withInheritedProps=a({includeInheritedProps:!0}),l})},function(e,t,i){"use strict";function n(){}Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicModelDirective=n,n.prototype={restrict:"A",scope:{model:"=dynamicModel"},controller:["$scope",function(e){if(!e.model)throw new TypeError("dynamic-model: invalid model specified");this.model=e.model}]}},function(e,t,i){"use strict";function n(){}Object.defineProperty(t,"__esModule",{value:!0}),t.FieldModelForDirective=n,n.prototype={restrict:"A",require:["^^dynamicModel","ngModel"],link:function(e,t,i,n){function r(){var e=a.$modelValue||a.$viewValue,t=o.value();e!==t&&(a.$viewValue=t,u.call(a),s.call(a))}if(!i.fieldModelFor)throw new TypeError('form-model-for: missing required attribute "field-model-for"');var o=n[0].model.field(i.fieldModelFor),a=n[1],u=a.$commitViewValue,s=a.$render;o.on("change",r),r(),a.$render=function(){var e=this.$modelValue||this.$viewValue;return(e||a.$dirty)&&o.setValue(e),s.call(this)},a.$commitViewValue=function(){var e=u.call(this);return o.setValue(this.$modelValue||this.$viewValue),e}}}},,function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelBuilder=void 0;var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=i(2);t.ModelBuilder=function(){function e(){n(this,e)}return r(e,[{key:"build",value:function(e){return new o.Model(e)}}]),e}()},function(e,t,i){"use strict";function n(e){this.parser=e}Object.defineProperty(t,"__esModule",{value:!0}),t.FieldConditionForDirective=n;var r=i(9);n.prototype={restrict:"A",dependencies:["$parse"],require:"^^dynamicModel",link:function(e,t,i,n){if(!i.fieldConditionFor||!i.condition)throw new TypeError('field-condition-for: missing required attribute "'+(i.condition?"field-condition-for":"condition")+'"');var o=n.model.field(i.fieldConditionFor),a=0,u=(0,r.createCondition)(i.condition,n.model,this.parser,e,function(e){o[e?"activate":"deactivate"](),t[e?"show":"hide"](a)});a=i.speed?parseInt(i.speed,10):300,this.$onDestroy=u}}},function(e,t,i){"use strict";function n(e,t,i,n,r){function o(){var e=!!u(n,t.getState());e!==s&&(s=e,r(s))}r||"function"!=typeof n||(r=n,n=null);var a=[];e=e.replace(/\[([a-zA-Z\$_][\w.]+)\]/g,function(e,t){return a.indexOf(t)<0&&a.push(t),t}),0===a.length&&console.warn("warning: createCondition: conditional expression does not contain any field references and will only be evaluated once");var u=i(e),s=void 0;o();var l=a.map(function(e){return t.watch(e,o)});return function(){return l.forEach(function(e){return e()})}}Object.defineProperty(t,"__esModule",{value:!0}),t.createCondition=n}]);