!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="bin/",t(t.s=2)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return e===t}Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),c=n(1);t.Model=function(){function e(t){if(r(this,e),this.$$state=t||{},"object"!==o(this.$$state))throw new TypeError("initialState must be a valid object");this.$$subscribers=[],this.$$fields={}}return u(e,[{key:"getState",value:function(){return this.$$state}},{key:"subscribe",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError("fn must be a valid function");return this.$$subscribers.push(e),function(){return t.unsubscribe(e)}}},{key:"unsubscribe",value:function(e){var t=this.$$subscribers.indexOf(e);t>=0&&this.$$subscribers.splice(t,1)}},{key:"watch",value:function(e,t,n){n=n||i;var r=s.get(this.$$state,e);return this.subscribe(function(i){var o=s.get(i,e);if(!n(r,o)){var u=r;r=o,t(o,u,e)}})}},{key:"set",value:function(e,t){s.set(this.$$state,e,t);for(var n=this.$$subscribers.slice(),r=0,i=n.length;r<i;++r)n[r](this.$$state);return this}},{key:"get",value:function(e,t){return s.get(this.$$state,e,t)}},{key:"field",value:function(e){if(this.$$fields.hasOwnProperty(e))return this.$$fields[e];var t=this.get(e);return this.$$fields[e]=new c.ModelField(this,e,t)}},{key:"$findChildFields",value:function(e){var t=this,n=this.get(e,null),r=[];return n&&"object"===(void 0===n?"undefined":o(n))&&Object.keys(n).forEach(function(n){var i=e+"."+n;t.$$fields.hasOwnProperty(i)&&r.push(t.$$fields[i])}),r}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){e=e.substring(e.lastIndexOf(".")+1);var t=e.replace(/([A-Z]+)/g," $1").replace(/\W+/g," ").replace(/\s{2,}/g," ");return t[0].toUpperCase()+t.substring(1)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.ModelField=function(){function e(t,n,o,u){var l=this;r(this,e),this.name=n,this.label=i(n),this.$$model=t,this.$$value=o,this.$$active=!0,this.$$listeners={},this.watch(function(e,t,n){e!==l.$$value&&(l.$$value=e),l.$emit("change",l,e,t)})}return o(e,[{key:"isDirty",value:function(){return this.$$dirty}},{key:"isActive",value:function(){return this.$$active}},{key:"value",value:function(){return this.$$value}},{key:"setValue",value:function(e){this.$$model.set(this.name,e)}},{key:"setValidated",value:function(e){this.$$validated=!!e}},{key:"setActive",value:function(e){if(this.$$active=!!e,this.$$active&&this.$$lastActiveValue)this.setValue(this.$$lastActiveValue);else if(!this.$$active){var t=this.value();void 0!==t&&(this.setValue(void 0),this.$$lastActiveValue=t)}this.$emit("toggle",this,this.$$active)}},{key:"watch",value:function(e){return this.$$model.watch(this.name,e)}},{key:"on",value:function(e,t){var n=this;if("function"!=typeof t)throw new TypeError("fn must be a valid function");return this.$$listeners.hasOwnProperty(e)||(this.$$listeners[e]=[]),this.$$listeners[e].push(t),function(){return n.off(e,t)}}},{key:"off",value:function(e,t){if("function"!=typeof t)throw new TypeError("fn must be a valid function");if(listeners&&listeners.length>0){var n=listeners.indexOf(t);n>=0&&listeners.splice(n,1)}}},{key:"$emit",value:function(e){if(this.$$listeners.hasOwnProperty(e)&&0!==this.$$listeners[e].length)for(var t=this.$$listeners[e].slice(),n=arguments.length,r=n>4?Array.prototype.slice(arguments,1):null,i=0,o=t.length;i<o;++i){var u=t[i];switch(n){case 1:u();break;case 2:u(arguments[1]);break;case 3:u(arguments[1],arguments[2]);break;case 4:u(arguments[1],arguments[2],arguments[3]);break;default:u.apply(void 0,r)}}}}]),e}()},function(e,t,n){"use strict";function r(e){var t=e.dependencies||e.prototype.dependencies;if(!t)return function(){return new e};var n=function(){return new(Function.prototype.bind.apply(e,[null].concat(Array.prototype.slice.call(arguments))))};return n.$inject=t,n}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var o=n(1);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var u=n(4),l=n(5),s=n(6),c=n(7),a=angular.module("ng-dynamic-model",[]).service("ModelBuilder",u.ModelBuilder).directive("dynamicModel",r(l.DynamicModelDirective)).directive("fieldModelFor",r(s.FieldModelForDirective)).directive("fieldConditionFor",r(c.FieldConditionForDirective));t.default=a.name},function(e,t,n){var r,i,o;!function(n,u){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=u():(i=[],r=u,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o))}(0,function(){"use strict";function e(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function t(t){if(!t)return!0;if(s(t)&&0===t.length)return!0;if("string"!=typeof t){for(var n in t)if(e(t,n))return!1;return!0}return!1}function n(e){return l.call(e)}function r(e){return"object"==typeof e&&"[object Object]"===n(e)}function i(e){return"boolean"==typeof e||"[object Boolean]"===n(e)}function o(e){var t=parseInt(e);return t.toString()===e?t:e}function u(n){function u(t,r){return n.includeInheritedProps||"number"==typeof r&&Array.isArray(t)||e(t,r)}function l(e,t){if(u(e,t))return e[t]}function c(e,t,n,r){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if("string"==typeof t)return c(e,t.split(".").map(o),n,r);var i=t[0],u=l(e,i);return 1===t.length?(void 0!==u&&r||(e[i]=n),u):(void 0===u&&("number"==typeof t[1]?e[i]=[]:e[i]={}),c(e[i],t.slice(1),n,r))}n=n||{};var a=function(e){return Object.keys(a).reduce(function(t,n){return"create"===n?t:("function"==typeof a[n]&&(t[n]=a[n].bind(a,e)),t)},{})};return a.has=function(t,r){if("number"==typeof r?r=[r]:"string"==typeof r&&(r=r.split(".")),!r||0===r.length)return!!t;for(var i=0;i<r.length;i++){var u=o(r[i]);if(!("number"==typeof u&&s(t)&&u<t.length||(n.includeInheritedProps?u in Object(t):e(t,u))))return!1;t=t[u]}return!0},a.ensureExists=function(e,t,n){return c(e,t,n,!0)},a.set=function(e,t,n,r){return c(e,t,n,r)},a.insert=function(e,t,n,r){var i=a.get(e,t);r=~~r,s(i)||(i=[],a.set(e,t,i)),i.splice(r,0,n)},a.empty=function(e,n){if(!t(n)&&null!=e){var o,l;if(o=a.get(e,n)){if("string"==typeof o)return a.set(e,n,"");if(i(o))return a.set(e,n,!1);if("number"==typeof o)return a.set(e,n,0);if(s(o))o.length=0;else{if(!r(o))return a.set(e,n,null);for(l in o)u(o,l)&&delete o[l]}}}},a.push=function(e,t){var n=a.get(e,t);s(n)||(n=[],a.set(e,t,n)),n.push.apply(n,Array.prototype.slice.call(arguments,2))},a.coalesce=function(e,t,n){for(var r,i=0,o=t.length;i<o;i++)if(void 0!==(r=a.get(e,t[i])))return r;return n},a.get=function(e,t,n){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if(null==e)return n;if("string"==typeof t)return a.get(e,t.split("."),n);var r=o(t[0]),i=l(e,r);return void 0===i?n:1===t.length?i:a.get(e[r],t.slice(1),n)},a.del=function(e,n){if("number"==typeof n&&(n=[n]),null==e)return e;if(t(n))return e;if("string"==typeof n)return a.del(e,n.split("."));var r=o(n[0]);return u(e,r)?1!==n.length?a.del(e[r],n.slice(1)):(s(e)?e.splice(r,1):delete e[r],e):e},a}var l=Object.prototype.toString,s=Array.isArray||function(e){return"[object Array]"===l.call(e)},c=u();return c.create=u,c.withInheritedProps=u({includeInheritedProps:!0}),c})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelBuilder=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0);t.ModelBuilder=function(){function e(){r(this,e)}return i(e,[{key:"build",value:function(e){return new o.Model(e)}}]),e}()},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicModelDirective=r,r.prototype={restrict:"A",scope:{model:"=dynamicModel"},controller:["$scope",function(e){if(!e.model)throw new TypeError("dynamic-model: invalid model specified");this.model=e.model}]}},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.FieldModelForDirective=r,r.prototype={restrict:"A",require:["^^dynamicModel","ngModel"],link:function(e,t,n,r){function i(){var e=u.$modelValue||u.$viewValue,t=o.value();e!==t&&(u.$viewValue=t,l.call(u),s.call(u))}if(!n.fieldModelFor)throw new TypeError('form-model-for: missing required attribute "field-model-for"');var o=r[0].model.field(n.fieldModelFor),u=r[1],l=u.$commitViewValue,s=u.$render;o.watch(i),i(),u.$render=function(){var e=this.$modelValue||this.$viewValue;return(e||u.$dirty)&&o.setValue(e),s.call(this)},u.$commitViewValue=function(){var e=l.call(this);return o.setValue(this.$modelValue||this.$viewValue),e}}}},function(e,t,n){"use strict";function r(e){this.parser=e}Object.defineProperty(t,"__esModule",{value:!0}),t.FieldConditionForDirective=r;var i=n(8);r.prototype={restrict:"A",dependencies:["$parse"],require:"^^dynamicModel",link:function(e,t,n,r){if(!n.fieldConditionFor||!n.condition)throw new TypeError('field-condition-for: missing required attribute "'+(n.condition?"field-condition-for":"condition")+'"');var o=r.model.field(n.fieldConditionFor),u=0,l=(0,i.createCondition)(n.condition,r.model,this.parser,e,function(e){o.setActive(e),t[e?"show":"hide"](u)});u=n.speed?parseInt(n.speed,10):300,this.$onDestroy=l}}},function(e,t,n){"use strict";function r(e,t,n,r,i){function o(){var e=!!l(r,t.getState());e!==s&&(s=e,i(s))}i||"function"!=typeof r||(i=r,r=null);var u=[];e=e.replace(/\[([a-zA-Z\$_][\w.]+)\]/g,function(e,t){return u.indexOf(t)<0&&u.push(t),t}),0===u.length&&console.warn("warning: createCondition: conditional expression does not contain any field references and will only be evaluated once");var l=n(e),s=void 0;o();var c=u.map(function(e){return t.watch(e,o)});return function(){return c.forEach(function(e){return e()})}}Object.defineProperty(t,"__esModule",{value:!0}),t.createCondition=r}]);