!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["ng-dynamic-model"]=t():e["ng-dynamic-model"]=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="bin/",t(t.s=4)}([function(e,t,n){"use strict";function r(e,t){return e==t}function i(e){var t=void 0===e?"undefined":f(e);switch(t){case"object":if(null===e)return"null";if(Array.isArray(e))return"array";if(e instanceof RegExp)return"regexp";if(e instanceof Date)return"date";default:return t}}function o(e){if(null===e||void 0===e)return!0;switch(i(e)){case"array":case"string":return 0===e.length;case"date":return 0===e.getTime();case"object":for(var t in e)if(e.hasOwnProperty(t))return!1;return!0;default:return!1}}function a(e,t){switch(i(e)){case"string":return e.indexOf(t)>=0;case"object":return e.hasOwnProperty(t);case"array":return e.some(function(e){return l(e,t)});default:return!1}}function u(e,t){switch(i(t)){case"null":case"undefined":return e===t;case"regexp":return t.test(e);case"array":if(!Array.isArray(e)||e.length<t.length||0===t.length&&0!==e.length)return!1;for(var n=0,r=t.length;n<r;++n)for(var o=0,a=e.length;o<a&&!u(e[o],t[n]);++o)if(o==a-1)return!1;return!0;case"object":for(var l,s=Object.keys(t),c=s.length;--c>=0;)if(l=s[c],!e.hasOwnProperty(l)||!u(e[l],t[l]))return!1;return!0;case"string":case"number":case"boolean":default:return e==t}}function l(e,t,n){switch(i(t)){case"null":case"undefined":return e===t;case"array":if(!Array.isArray(e)||e.length!==t.length)return!1;for(var o=t.length-1;o>=0;--o)if(!l(e[o],t[o]))return!1;return!0;case"object":var a=Object.keys(e),u=Object.keys(t);if(a.length!==u.length)return!1;for(var s,c=u.length;--c>=0;)if(s=u[c],!e.hasOwnProperty(s)||!l(e[s],t[s]))return!1;return!0;case"string":case"number":case"boolean":default:return(n||r)(e,t)}}function s(e,t,n){if(!Array.isArray(e)||0===e.length)return!1;for(var r=e.length-1;r>=0;--r)if(n(e[r],t))return!0;return!1}function c(e,t,n){if(!Array.isArray(e)||0===e.length)return!1;for(var r=e.length-1;r>=0;--r)if(!n(e[r],t))return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.getType=i,t.empty=o,t.contains=a,t.matches=u,t.equals=l,t.any=s,t.all=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return e===t}Object.defineProperty(t,"__esModule",{value:!0}),t.Model=t.ValidationTrigger=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(5),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),s=n(2),c={Manual:0,Change:1};t.ValidationTrigger=c;t.Model=function(){function e(t,n){if(r(this,e),this.$$state=n||{},"object"!==o(this.$$state))throw new TypeError("initialState must be a valid object");this.$$q=t,this.$$subscribers=[],this.$$fields={}}return a(e,[{key:"getState",value:function(){return this.$$state}},{key:"subscribe",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError("fn must be a valid function");return this.$$subscribers.push(e),function(){return t.unsubscribe(e)}}},{key:"unsubscribe",value:function(e){var t=this.$$subscribers.indexOf(e);t>=0&&this.$$subscribers.splice(t,1)}},{key:"watch",value:function(e,t,n){n=n||i;var r=l.get(this.$$state,e);return this.subscribe(function(i){var o=l.get(i,e);if(!n(r,o)){var a=r;r=o,t(o,a,e)}})}},{key:"set",value:function(e,t){"string"!=typeof e&&(t=e,e=null),null!==e?l.set(this.$$state,e,t):this.$$state=t;for(var n=this.$$subscribers.slice(),r=0,i=n.length;r<i;++r)n[r](this.$$state,e);return this}},{key:"get",value:function(e,t){return l.get(this.$$state,e,t)}},{key:"field",value:function(e){if(this.$$fields.hasOwnProperty(e))return this.$$fields[e];var t=this.get(e),n=new s.ModelField(this.$$q,this,e,t);return this.$$validationTrigger===c.Change&&n.watch(function(){return n.hasValidation()&&n.validate()}),this.$$fields[e]=n}},{key:"validate",value:function(){var e=this,t=Object.keys(this.$$fields).map(function(t){var n=e.$$fields[t];return!n.hasValidation()||!n.isActive()||(n.isValidated()?n.isValid():n.validate())});return this.$$q.all(t).then(function(e){return e.every(function(e){return e})})}},{key:"setValidationTrigger",value:function(e){this.$$validationTrigger=e}},{key:"setPristine",value:function(){for(var e in this.$$fields)if(this.$$fields.hasOwnProperty(e)){var t=this.$$fields[e];t.setDirty(!1)}}},{key:"hasDirtyFields",value:function(){for(var e in this.$$fields)if(this.$$fields.hasOwnProperty(e)){var t=this.$$fields[e];if(t.isDirty()&&t.isActive())return!0}return!1}},{key:"$findChildFields",value:function(e){var t=this,n=this.get(e,null),r=[];return n&&"object"===(void 0===n?"undefined":o(n))&&Object.keys(n).forEach(function(n){var i=e+"."+n;t.$$fields.hasOwnProperty(i)&&r.push(t.$$fields[i])}),r}},{key:"$findParentField",value:function(e){for(var t=e,n=-1;(n=t.lastIndexOf("."))>=0;)if(t=t.substring(0,n),this.$$fields.hasOwnProperty(t))return this.$$fields[t];return null}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(e!==t)return!1;var n=(0,u.getType)(e);return"object"!==n&&"array"!==n}function o(e){e=e.substring(e.lastIndexOf(".")+1);var t=e.replace(/([A-Z]+)/g," $1").replace(/\W+/g," ").replace(/\s{2,}/g," ");return t[0].toUpperCase()+t.substring(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelField=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l={Valid:0,Invalid:1,Unknown:2};t.ModelField=function(){function e(t,n,i,a){var u=this;r(this,e),this.name=i,this.label=o(i),this.$$model=n,this.$$value=a,this.$$active=!0,this.$$q=t,this.$$listeners={},this.$$validationState=l.Unknown,this.$$validationRef=0,this.watch(function(e,t,n){e!==u.$$value&&(u.$$value=e),u.setDirty(!0),u.$emit("change",u,e,t)})}return a(e,[{key:"invalidate",value:function(){this.$$validationState=l.Unknown}},{key:"isValid",value:function(){return this.$$validationState===l.Valid}},{key:"isValidated",value:function(){return this.$$validationState!==l.Unknown}},{key:"isDirty",value:function(){return this.$$dirty}},{key:"isActive",value:function(){if(!this.$$active)return!1;var e=this.$$model.$findParentField(this.name);return null===e||e.isActive()}},{key:"hasValidation",value:function(){return this.$$validators&&this.$$validators.length||this.$$asyncValidators&&this.$$asyncValidators.length}},{key:"value",value:function(){return this.$$value}},{key:"setValue",value:function(e){this.$$model.set(this.name,e)}},{key:"setDirty",value:function(e){this.$$dirty=!!e,this.invalidate()}},{key:"setActive",value:function(e){if(this.$$active=!!e,this.$$active&&this.$$lastActiveValue)this.setValue(this.$$lastActiveValue);else if(!this.$$active){var t=this.value();void 0!==t&&(this.setValue(void 0),this.$$lastActiveValue=t)}this.$emit("toggle",this,this.$$active)}},{key:"addValidator",value:function(e){if("function"!=typeof e)throw new TypeError("validator must be a valid function");return this.$$validators||(this.$$validators=[]),this.$$validators.push(e),this}},{key:"addAsyncValidator",value:function(e){if("function"!=typeof e)throw new TypeError("validator must be a valid function");return this.$$asyncValidators||(this.$$asyncValidators=[]),this.$$asyncValidators.push(e),this}},{key:"validate",value:function(e){function t(e){r.push(e)}var n=this,r=[],i=this.$processValidators(t);if(!i||!this.$$asyncValidators||!this.$$asyncValidators.length)return this.$completeValidation(i,r),this.$$q.resolve(i);var o=++this.$$validationRef;return this.$$validationSate=l.Unknown,this.$$deferredValidation||(this.$$deferredValidation=this.$$q.defer()),this.$processAsyncValidators(t).then(function(e){o===n.$$validationRef&&n.$completeValidation(e,r)},function(e){if(o===n.$$validationRef&&n.$$deferredValidation){var t=n.$$deferredValidation;n.$$deferredValidation=null,t.reject(e)}}),this.$$deferredValidation.promise}},{key:"watch",value:function(e,t){return this.$$model.watch(this.name,e,t||i)}},{key:"on",value:function(e,t){var n=this;if("function"!=typeof t)throw new TypeError("fn must be a valid function");return this.$$listeners.hasOwnProperty(e)||(this.$$listeners[e]=[]),this.$$listeners[e].push(t),function(){return n.off(e,t)}}},{key:"off",value:function(e,t){if("function"!=typeof t)throw new TypeError("fn must be a valid function");var n=this.$$listeners[e];if(n&&n.length>0){var r=n.indexOf(t);r>=0&&n.splice(r,1)}}},{key:"$emit",value:function(e){if(this.$$listeners.hasOwnProperty(e)&&0!==this.$$listeners[e].length)for(var t=this.$$listeners[e].slice(),n=arguments.length,r=n>4?Array.prototype.slice(arguments,1):null,i=0,o=t.length;i<o;++i){var a=t[i];switch(n){case 1:a();break;case 2:a(arguments[1]);break;case 3:a(arguments[1],arguments[2]);break;case 4:a(arguments[1],arguments[2],arguments[3]);break;default:a.apply(void 0,r)}}}},{key:"$completeValidation",value:function(e,t){var n=this.$$deferredValidation;n&&(this.$$deferredValidation=null),this.$$validationState=e?l.Valid:l.Invalid,this.$emit("validate",this,e,t),n&&n.resolve(e)}},{key:"$processValidators",value:function(e){var t=this.$$validators;if(t)for(var n=0,r=t.length;n<r;++n)if(!t[n](this,e))return!1;return!0}},{key:"$processAsyncValidators",value:function(e){var t=this,n=this.$$asyncValidators.map(function(n){return n(t,e)});return this.$$q.all(n).then(function(e){return e.every(function(e){return e})})}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(e!==t)return!1;var n=a.getType(e);return"object"!==n&&"array"!==n}function i(e,t,n,i,o){function u(){var e=Object.assign({$util:a},i),n=!!s(e,t.getState());n!==c&&(c=n,o(c))}o||"function"!=typeof i||(o=i,i=null);var l=[];e=e.replace(/\[([a-zA-Z\$_][\w.]+)\]/g,function(e,t){return l.indexOf(t)<0&&l.push(t),t}),0===l.length&&console.warn("warning: createCondition: conditional expression does not contain any field references and will only be evaluated once");var s=n(e),c=void 0;u();var f=l.map(function(e){return t.watch(e,u,r)});return function(){return f.forEach(function(e){return e()})}}Object.defineProperty(t,"__esModule",{value:!0}),t.createCondition=i;var o=n(0),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.util=void 0;var r=n(1);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var i=n(2);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var o=n(6),a=function(e){return e&&e.__esModule?e:{default:e}}(o),u=n(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u);t.util=l,t.default=a.default},function(e,t,n){var r,i,o;!function(n,a){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=a():(i=[],r=a,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o))}(0,function(){"use strict";function e(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function t(t){if(!t)return!0;if(l(t)&&0===t.length)return!0;if("string"!=typeof t){for(var n in t)if(e(t,n))return!1;return!0}return!1}function n(e){return u.call(e)}function r(e){return"object"==typeof e&&"[object Object]"===n(e)}function i(e){return"boolean"==typeof e||"[object Boolean]"===n(e)}function o(e){var t=parseInt(e);return t.toString()===e?t:e}function a(n){function a(t,r){return n.includeInheritedProps||"number"==typeof r&&Array.isArray(t)||e(t,r)}function u(e,t){if(a(e,t))return e[t]}function s(e,t,n,r){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if("string"==typeof t)return s(e,t.split(".").map(o),n,r);var i=t[0],a=u(e,i);return 1===t.length?(void 0!==a&&r||(e[i]=n),a):(void 0===a&&("number"==typeof t[1]?e[i]=[]:e[i]={}),s(e[i],t.slice(1),n,r))}n=n||{};var c=function(e){return Object.keys(c).reduce(function(t,n){return"create"===n?t:("function"==typeof c[n]&&(t[n]=c[n].bind(c,e)),t)},{})};return c.has=function(t,r){if("number"==typeof r?r=[r]:"string"==typeof r&&(r=r.split(".")),!r||0===r.length)return!!t;for(var i=0;i<r.length;i++){var a=o(r[i]);if(!("number"==typeof a&&l(t)&&a<t.length||(n.includeInheritedProps?a in Object(t):e(t,a))))return!1;t=t[a]}return!0},c.ensureExists=function(e,t,n){return s(e,t,n,!0)},c.set=function(e,t,n,r){return s(e,t,n,r)},c.insert=function(e,t,n,r){var i=c.get(e,t);r=~~r,l(i)||(i=[],c.set(e,t,i)),i.splice(r,0,n)},c.empty=function(e,n){if(!t(n)&&null!=e){var o,u;if(o=c.get(e,n)){if("string"==typeof o)return c.set(e,n,"");if(i(o))return c.set(e,n,!1);if("number"==typeof o)return c.set(e,n,0);if(l(o))o.length=0;else{if(!r(o))return c.set(e,n,null);for(u in o)a(o,u)&&delete o[u]}}}},c.push=function(e,t){var n=c.get(e,t);l(n)||(n=[],c.set(e,t,n)),n.push.apply(n,Array.prototype.slice.call(arguments,2))},c.coalesce=function(e,t,n){for(var r,i=0,o=t.length;i<o;i++)if(void 0!==(r=c.get(e,t[i])))return r;return n},c.get=function(e,t,n){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if(null==e)return n;if("string"==typeof t)return c.get(e,t.split("."),n);var r=o(t[0]),i=u(e,r);return void 0===i?n:1===t.length?i:c.get(e[r],t.slice(1),n)},c.del=function(e,n){if("number"==typeof n&&(n=[n]),null==e)return e;if(t(n))return e;if("string"==typeof n)return c.del(e,n.split("."));var r=o(n[0]);return a(e,r)?1!==n.length?c.del(e[r],n.slice(1)):(l(e)?e.splice(r,1):delete e[r],e):e},c}var u=Object.prototype.toString,l=Array.isArray||function(e){return"[object Array]"===u.call(e)},s=a();return s.create=a,s.withInheritedProps=a({includeInheritedProps:!0}),s})},function(e,t,n){"use strict";function r(e){var t=e.dependencies||e.prototype.dependencies;if(!t)return function(){return new e};var n=function(){return new(Function.prototype.bind.apply(e,[null].concat(Array.prototype.slice.call(arguments))))};return n.$inject=t,n}Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),o=n(9),a=n(10),u=n(11),l=n(12),s=n(13),c=n(14),f=n(15),d=n(16),y=n(17),v=n(18),h=n(19),p=angular.module("ng-dynamic-model",[]).config(i.ValidationConfig).provider("ValidatorFactory",a.ValidatorFactoryProvider).service("ModelBuilder",o.ModelBuilder).directive("dynamicModel",r(u.DynamicModelDirective)).directive("fieldModelFor",r(l.FieldModelForDirective)).directive("fieldConditionFor",r(s.FieldConditionForDirective)).directive("fieldCondition",r(c.FieldConditionDirective)).directive("fieldValidationFor",r(y.FieldValidationForDirective)).directive("fieldValidationMessageFor",r(v.FieldValidationMessageForDirective)).directive("readonlyFieldFor",r(f.ReadonlyFieldForDirective)).directive("fieldRepeatFor",d.FieldRepeatForDirective).run(h.AddPolyfills);t.default=p.name},function(e,t,n){"use strict";function r(e){e.register("required",i.RequiredValidator)}Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationConfig=r;var i=n(8);r.$inject=["ValidatorFactoryProvider"]},function(e,t,n){"use strict";function r(e,t,n){return!(0,i.empty)(e.value())||(t(n&&n.message||e.label+" is a required field"),!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.RequiredValidator=r;var i=n(0)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelBuilder=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1);(t.ModelBuilder=function(){function e(t){r(this,e),this.$$q=t}return i(e,[{key:"build",value:function(e){return new o.Model(this.$$q,e)}}]),e}()).$inject=["$q"]},function(e,t,n){"use strict";function r(){function e(e,n,r){return t.hasOwnProperty(e)&&console.warn('validator-factory: overwriting previously registered validator "'+e+'"'),"function"==typeof n&&(r=n,n=!1),t[e]={async:n,name:e,fn:r},this}var t={};this.register=e,this.$get=function(){return{get:function(e){return t[e]},register:e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.ValidatorFactoryProvider=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){}function o(e,t,n){return(e||"dynamic-model")+": invalid field identifier value encountered; expected "+t+", got "+(void 0===n?"undefined":u(n))}function a(e,t,n){if("string"!=typeof t)throw new TypeError(o(n,"string",t));var r=t.match(s);if(!r)throw new TypeError((n||"dynamic-model")+": invalid field identifier encountered: "+t);return e.field(r[1])}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.DynamicModelDirective=i;var s=/^\s*((?:[a-z_$][a-z0-9_$]*)(?:\.[a-z_$][a-z0-9_$]*)*)\s*$/i,c=function(){function e(t){if(r(this,e),!t.model)throw new TypeError('dynamic-model: invalid value found for attribute "dynamic-model"; expected a Model, got '+u(t.model));this.model=t.model}return l(e,[{key:"fieldFor",value:function(e,t,n){return a(this.model,e.$eval(t),n)}},{key:"fieldsFor",value:function(e,t,n){var r=this,i=e.$eval(t);if("string"!=typeof i&&!Array.isArray(i))throw new TypeError(o(n,"string or array",i));return"string"==typeof i?[a(this.model,i,n)]:i.map(function(e){return a(r.model,e,n)})}}]),e}();i.prototype={restrict:"A",scope:{model:"=dynamicModel"},controller:["$scope",c]}},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.FieldModelForDirective=r,r.prototype={restrict:"A",require:["^^dynamicModel","ngModel"],link:function(e,t,n,r){function i(e){(a.$modelValue||a.$viewValue)!==e&&(a.$viewValue=e,u.call(a),l.call(a))}var o=r[0].fieldFor(e,n.fieldModelFor,"field-model-for"),a=r[1],u=a.$commitViewValue,l=a.$render;e.$on("$destroy",o.watch(i)),i(o.value()),a.$render=function(){var e=this.$modelValue||this.$viewValue;return(e||a.$dirty)&&o.setValue(e),l.call(this)},a.$commitViewValue=function(){var e=u.call(this);return o.setValue(this.$modelValue||this.$viewValue),e}}}},function(e,t,n){"use strict";function r(e){this.parser=e}Object.defineProperty(t,"__esModule",{value:!0}),t.FieldConditionForDirective=r;var i=n(3);r.prototype={restrict:"A",dependencies:["$parse"],require:"^^dynamicModel",link:function(e,t,n,r){if(!n.condition)throw new TypeError('field-condition-for: missing required attribute "condition"');var o=r.fieldsFor(e,n.fieldConditionFor,"field-condition-for"),a=0,u=(0,i.createCondition)(n.condition,r.model,this.parser,e,function(e){o.forEach(function(t){return t.setActive(e)}),t[e?"show":"hide"](a)});a=n.speed?parseInt(n.speed,10):300,e.$on("$destroy",u)}}},function(e,t,n){"use strict";function r(e){this.parser=e}Object.defineProperty(t,"__esModule",{value:!0}),t.FieldConditionDirective=r;var i=n(3);r.prototype={restrict:"A",dependencies:["$parse"],require:"^^dynamicModel",link:function(e,t,n,r){if(!n.fieldCondition)throw new TypeError('field-condition-for: missing required attribute "field-condition"');var o=0,a=(0,i.createCondition)(n.fieldCondition,r.model,this.parser,e,function(e){t[e?"show":"hide"](o)});o=n.speed?parseInt(n.speed,10):300,e.$on("$destroy",a)}}},function(e,t,n){"use strict";function r(e){this.parse=e}Object.defineProperty(t,"__esModule",{value:!0}),t.ReadonlyFieldForDirective=r,r.prototype={restrict:"A",require:"^^dynamicModel",dependencies:["$parse"],link:function(e,t,n,r){function i(n){var r=u?u(e,o.getState()):n.value();t.html(r)}var o=r.model,a=r.fieldsFor(e,n.readonlyFieldFor,"readonly-field-for"),u=n.expr?this.parse(n.expr):null;if(a.length>1&&!u)throw new TypeError('readonly-field-for: invalid value found for attribute "readonly-field-for"; expected a string when "expr" is not provided');var l=a.map(function(e){return e.on("change",i)});i(a[0]),e.$on("$destroy",function(){return l.forEach(function(e){return e()})})}}},function(e,t,n){"use strict";function r(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n].value===t)return n;return-1}function i(e,t,n,i){return{restrict:"A",transclude:"element",terminal:!0,priority:10,require:"^^dynamicModel",compile:function(o,a){function s(e,t,n,r){e.scope.$model=e.model,e.scope.$index=t,e.scope.$count=n,e.scope.$sourceIndex=e.index,e.scope.$sourceCount=r}function c(e,t){var n=i.build(t);return n.subscribe(function(){return e.setDirty(!0)}),n}return function(i,o,a,f,d){function y(e){var n=[];if(Array.isArray(e))for(var i=0,a=e.length;i<a;++i){var f=e[i];if(!h||h(l,f)){var y=r(p,f),$=y>=0?p.splice(y,1)[0]:{value:f,model:c(v,f)};$.index=i,n.push($)}}for(var b=0,g=p.length;b<g;++b){var m=p[b];t.leave(m.clone),m.clone[0].parentNode&&(m.clone[0][u]=!0),m.scope.$destroy()}for(var w=o[0],V=0,O=n.length;V<O;++V)!function(r,i){var o=n[r];if(o.scope){var a=w;do{a=w.nextSibling}while(a&&a[u]);o.clone[0]!==a&&t.move(o.clone[0],null,w),w=o.clone[0],s(o,r,n.length,e.length)}else d(function(i,a){o.scope=a,t.enter(i,null,w),w=i[0],o.clone=i,s(o,r,n.length,e.length)})}(V);p=n}var v=f.fieldFor(i,a.fieldRepeatFor,"field-repeat-for"),h=a.filter&&n(a.filter),p=[];v.addAsyncValidator(function(t,n){return e.all(p.map(function(e){return e.model.validate()})).then(function(e){return e.every(function(e){return e})})}),v.watch(y),y(v.value())}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.FieldRepeatForDirective=i;var o=n(0),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),u="$$removed",l={$util:a};i.$inject=["$q","$animate","$parse","ModelBuilder"]},function(e,t,n){"use strict";function r(e){this.validatorFactory=e}function i(e,t){var n=void 0,r=void 0;if("string"==typeof e?r=t.get(e):e&&"object"===(void 0===e?"undefined":o(e))&&e.hasOwnProperty("name")&&(r=t.get(e.name),n=e),!r)throw new Error("field-validation-for: unknown validator encountered ("+JSON.stringify(e)+")");var i=function(e,t){return r.fn.call(r,e,t,n)};return i.async=r.async,i}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.FieldValidationForDirective=r;r.prototype={restrict:"A",require:"^^dynamicModel",dependencies:["ValidatorFactory"],link:function(e,t,n,r){function i(){var e=a.every(function(e){return e.isValidated()&&e.isValid()}),n=a.some(function(e){return e.isValidated()&&!e.isValid()});t[e?"addClass":"removeClass"](l),t[n?"addClass":"removeClass"](u)}var o=this,a=r.fieldsFor(e,n.fieldValidationFor,"field-validation-for"),u=n.invalidClass||"ng-invalid",l=n.validClass||"ng-pristine",s=a.reduce(function(e,t){return e.push(t.on("change",i)),e.push(t.on("validate",i)),e},[]);if(e.$on("$destroy",function(){return s.forEach(function(e){return e()})}),n.hasOwnProperty("validators"))var c=e.$watch(n.validators,function(e){void 0!==e&&(c(),o.$initialise(a,e))});i()},$initialise:function(e,t){var n=this,r=Array.isArray(t)?t.map(function(e){return i(e,n.validatorFactory)}):[i(t),this.validatorFactory];e.forEach(function(e){r.forEach(function(t){t.async?e.addAsyncValidator(t):e.addValidator(t)})})}}},function(e,t,n){"use strict";function r(e){this.validatorFactory=e}Object.defineProperty(t,"__esModule",{value:!0}),t.FieldValidationMessageForDirective=r,r.prototype={restrict:"A",require:"^^dynamicModel",link:function(e,t,n,r){function i(e,n){t.text(e?"":n),t[!e&&n?"show":"hide"]()}var o=r.fieldFor(e,n.fieldValidationMessageFor,"fieldValidationMessageFor"),a=[o.on("change",function(){return i(!0)}),o.on("validate",function(e,t,n){return i(t,n[0])})];e.$on("$destroy",function(){return a.forEach(function(e){return e()})}),i(!0)}}},function(e,t,n){"use strict";function r(){void 0===angular.element.prototype.show&&(angular.element.prototype.show=i),void 0===angular.element.prototype.hide&&(angular.element.prototype.hide=o)}function i(){var e=this.data(a)||"block";this.css("display",e)}function o(){if(!this.data(a)){var e=this.css("display")||getComputedStyle(this[0],null).display;this.data(a,e&&"none"!==e?e:"block")}this.css("display","none")}Object.defineProperty(t,"__esModule",{value:!0}),t.AddPolyfills=r;var a="ng-dm-polyfill-display"}])});