!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["ng-dynamic-model"]=t():e["ng-dynamic-model"]=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="bin/",t(t.s=5)}([function(e,t,r){"use strict";function n(e,t){return e==t}function i(e){var t=void 0===e?"undefined":f(e);switch(t){case"object":if(null===e)return"null";if(Array.isArray(e))return"array";if(e instanceof RegExp)return"regexp";if(e instanceof Date)return"date";default:return t}}function o(e){if(null===e||void 0===e)return!0;switch(i(e)){case"array":case"string":return 0===e.length;case"date":return 0===e.getTime();case"object":for(var t in e)if(e.hasOwnProperty(t))return!1;return!0;default:return!1}}function a(e,t){switch(i(e)){case"string":return e.indexOf(t)>=0;case"object":return e.hasOwnProperty(t);case"array":return e.some(function(e){return l(e,t)});default:return!1}}function u(e,t){switch(i(t)){case"null":case"undefined":return e===t;case"regexp":return t.test(e);case"array":if(!Array.isArray(e)||e.length<t.length||0===t.length&&0!==e.length)return!1;for(var r=0,n=t.length;r<n;++r)for(var o=0,a=e.length;o<a&&!u(e[o],t[r]);++o)if(o==a-1)return!1;return!0;case"object":for(var l,s=Object.keys(t),c=s.length;--c>=0;)if(l=s[c],!e.hasOwnProperty(l)||!u(e[l],t[l]))return!1;return!0;case"string":case"number":case"boolean":default:return e==t}}function l(e,t,r){switch(i(t)){case"null":case"undefined":return e===t;case"array":if(!Array.isArray(e)||e.length!==t.length)return!1;for(var o=t.length-1;o>=0;--o)if(!l(e[o],t[o]))return!1;return!0;case"object":var a=Object.keys(e),u=Object.keys(t);if(a.length!==u.length)return!1;for(var s,c=u.length;--c>=0;)if(s=u[c],!e.hasOwnProperty(s)||!l(e[s],t[s]))return!1;return!0;case"string":case"number":case"boolean":default:return(r||n)(e,t)}}function s(e,t,r){if(!Array.isArray(e)||0===e.length)return!1;for(var n=e.length-1;n>=0;--n)if(r(e[n],t))return!0;return!1}function c(e,t,r){if(!Array.isArray(e)||0===e.length)return!1;for(var n=e.length-1;n>=0;--n)if(!r(e[n],t))return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0});var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.getType=i,t.empty=o,t.contains=a,t.matches=u,t.equals=l,t.any=s,t.all=c},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return e===t}Object.defineProperty(t,"__esModule",{value:!0}),t.Model=t.ValidationTrigger=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(2),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(u),s=r(3),c={Manual:0,Change:1};t.ValidationTrigger=c;t.Model=function(){function e(t,r){if(n(this,e),this.$$state=r||{},"object"!==o(this.$$state))throw new TypeError("initialState must be a valid object");this.$$q=t,this.$$subscribers=[],this.$$fields={}}return a(e,[{key:"getState",value:function(){return this.$$state}},{key:"subscribe",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError("fn must be a valid function");return this.$$subscribers.push(e),function(){return t.unsubscribe(e)}}},{key:"unsubscribe",value:function(e){var t=this.$$subscribers.indexOf(e);t>=0&&this.$$subscribers.splice(t,1)}},{key:"watch",value:function(e,t,r){r=r||i;var n=l.get(this.$$state,e);return this.subscribe(function(i){var o=l.get(i,e);if(!r(n,o)){var a=n;n=o,t(o,a,e)}})}},{key:"set",value:function(e,t){"string"!=typeof e&&(t=e,e=null),null!==e?l.set(this.$$state,e,t):this.$$state=t;for(var r=this.$$subscribers.slice(),n=0,i=r.length;n<i;++n)r[n](this.$$state,e);return this}},{key:"get",value:function(e,t){return l.get(this.$$state,e,t)}},{key:"field",value:function(e){if(this.$$fields.hasOwnProperty(e))return this.$$fields[e];var t=this.get(e),r=new s.ModelField(this.$$q,this,e,t);return this.$$validationTrigger===c.Change&&r.watch(function(){return r.hasValidation()&&r.validate()}),this.$$fields[e]=r}},{key:"validate",value:function(){var e=this,t=Object.keys(this.$$fields).map(function(t){var r=e.$$fields[t];return!r.hasValidation()||!r.isActive()||(r.isValidated()?r.isValid():r.validate())});return this.$$q.all(t).then(function(e){return e.every(function(e){return e})})}},{key:"setValidationTrigger",value:function(e){this.$$validationTrigger=e}},{key:"setPristine",value:function(){for(var e in this.$$fields)if(this.$$fields.hasOwnProperty(e)){var t=this.$$fields[e];t.setDirty(!1)}}},{key:"hasDirtyFields",value:function(){for(var e in this.$$fields)if(this.$$fields.hasOwnProperty(e)){var t=this.$$fields[e];if(t.isDirty()&&t.isActive())return!0}return!1}},{key:"$findChildFields",value:function(e){var t=this,r=this.get(e,null),n=[];return r&&"object"===(void 0===r?"undefined":o(r))&&Object.keys(r).forEach(function(r){var i=e+"."+r;t.$$fields.hasOwnProperty(i)&&n.push(t.$$fields[i])}),n}},{key:"$findParentField",value:function(e){for(var t=e,r=-1;(r=t.lastIndexOf("."))>=0;)if(t=t.substring(0,r),this.$$fields.hasOwnProperty(t))return this.$$fields[t];return null}}]),e}()},function(e,t,r){var n,i,o;!function(r,a){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=a():(i=[],n=a,void 0!==(o="function"==typeof n?n.apply(t,i):n)&&(e.exports=o))}(0,function(){"use strict";function e(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function t(t){if(!t)return!0;if(l(t)&&0===t.length)return!0;if("string"!=typeof t){for(var r in t)if(e(t,r))return!1;return!0}return!1}function r(e){return u.call(e)}function n(e){return"object"==typeof e&&"[object Object]"===r(e)}function i(e){return"boolean"==typeof e||"[object Boolean]"===r(e)}function o(e){var t=parseInt(e);return t.toString()===e?t:e}function a(r){function a(t,n){return r.includeInheritedProps||"number"==typeof n&&Array.isArray(t)||e(t,n)}function u(e,t){if(a(e,t))return e[t]}function s(e,t,r,n){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if("string"==typeof t)return s(e,t.split(".").map(o),r,n);var i=t[0],a=u(e,i);return 1===t.length?(void 0!==a&&n||(e[i]=r),a):(void 0===a&&("number"==typeof t[1]?e[i]=[]:e[i]={}),s(e[i],t.slice(1),r,n))}r=r||{};var c=function(e){return Object.keys(c).reduce(function(t,r){return"create"===r?t:("function"==typeof c[r]&&(t[r]=c[r].bind(c,e)),t)},{})};return c.has=function(t,n){if("number"==typeof n?n=[n]:"string"==typeof n&&(n=n.split(".")),!n||0===n.length)return!!t;for(var i=0;i<n.length;i++){var a=o(n[i]);if(!("number"==typeof a&&l(t)&&a<t.length||(r.includeInheritedProps?a in Object(t):e(t,a))))return!1;t=t[a]}return!0},c.ensureExists=function(e,t,r){return s(e,t,r,!0)},c.set=function(e,t,r,n){return s(e,t,r,n)},c.insert=function(e,t,r,n){var i=c.get(e,t);n=~~n,l(i)||(i=[],c.set(e,t,i)),i.splice(n,0,r)},c.empty=function(e,r){if(!t(r)&&null!=e){var o,u;if(o=c.get(e,r)){if("string"==typeof o)return c.set(e,r,"");if(i(o))return c.set(e,r,!1);if("number"==typeof o)return c.set(e,r,0);if(l(o))o.length=0;else{if(!n(o))return c.set(e,r,null);for(u in o)a(o,u)&&delete o[u]}}}},c.push=function(e,t){var r=c.get(e,t);l(r)||(r=[],c.set(e,t,r)),r.push.apply(r,Array.prototype.slice.call(arguments,2))},c.coalesce=function(e,t,r){for(var n,i=0,o=t.length;i<o;i++)if(void 0!==(n=c.get(e,t[i])))return n;return r},c.get=function(e,t,r){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if(null==e)return r;if("string"==typeof t)return c.get(e,t.split("."),r);var n=o(t[0]),i=u(e,n);return void 0===i?r:1===t.length?i:c.get(e[n],t.slice(1),r)},c.del=function(e,r){if("number"==typeof r&&(r=[r]),null==e)return e;if(t(r))return e;if("string"==typeof r)return c.del(e,r.split("."));var n=o(r[0]);return a(e,n)?1!==r.length?c.del(e[n],r.slice(1)):(l(e)?e.splice(n,1):delete e[n],e):e},c}var u=Object.prototype.toString,l=Array.isArray||function(e){return"[object Array]"===u.call(e)},s=a();return s.create=a,s.withInheritedProps=a({includeInheritedProps:!0}),s})},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(e!==t)return!1;var r=(0,u.getType)(e);return"object"!==r&&"array"!==r}function o(e){e=e.substring(e.lastIndexOf(".")+1);var t=e.replace(/([A-Z]+)/g," $1").replace(/\W+/g," ").replace(/\s{2,}/g," ");return t[0].toUpperCase()+t.substring(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelField=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),l={Valid:0,Invalid:1,Unknown:2};t.ModelField=function(){function e(t,r,i,a){var u=this;n(this,e),this.name=i,this.label=o(i),this.$$model=r,this.$$value=a,this.$$active=!0,this.$$q=t,this.$$listeners={},this.$$validationState=l.Unknown,this.$$validationRef=0,this.watch(function(e,t,r){e!==u.$$value&&(u.$$value=e),u.setDirty(!0),u.$emit("change",u,e,t)})}return a(e,[{key:"invalidate",value:function(){this.$$validationState=l.Unknown}},{key:"isValid",value:function(){return this.$$validationState===l.Valid}},{key:"isValidated",value:function(){return this.$$validationState!==l.Unknown}},{key:"isDirty",value:function(){return this.$$dirty}},{key:"isActive",value:function(){if(!this.$$active)return!1;var e=this.$$model.$findParentField(this.name);return null===e||e.isActive()}},{key:"hasValidation",value:function(){return this.$$validators&&this.$$validators.length||this.$$asyncValidators&&this.$$asyncValidators.length}},{key:"value",value:function(){return this.$$value}},{key:"setValue",value:function(e){this.$$model.set(this.name,e)}},{key:"setDirty",value:function(e){this.$$dirty=!!e,this.invalidate()}},{key:"setActive",value:function(e){if(this.$$active=!!e,this.$$active&&this.$$lastActiveValue)this.setValue(this.$$lastActiveValue);else if(!this.$$active){var t=this.value();void 0!==t&&(this.setValue(void 0),this.$$lastActiveValue=t)}this.$emit("toggle",this,this.$$active)}},{key:"addValidator",value:function(e){if("function"!=typeof e)throw new TypeError("validator must be a valid function");return this.$$validators||(this.$$validators=[]),this.$$validators.push(e),this}},{key:"addAsyncValidator",value:function(e){if("function"!=typeof e)throw new TypeError("validator must be a valid function");return this.$$asyncValidators||(this.$$asyncValidators=[]),this.$$asyncValidators.push(e),this}},{key:"validate",value:function(){function e(e){r.push(e)}var t=this,r=[],n=this.$processValidators(e);if(!n||!this.$$asyncValidators||!this.$$asyncValidators.length)return this.$completeValidation(n,r),this.$$q.resolve(n);var i=++this.$$validationRef;return this.$$validationSate=l.Unknown,this.$$deferredValidation||(this.$$deferredValidation=this.$$q.defer()),this.$processAsyncValidators(e).then(function(e){i===t.$$validationRef&&t.$completeValidation(e,r)},function(e){if(i===t.$$validationRef&&t.$$deferredValidation){var r=t.$$deferredValidation;t.$$deferredValidation=null,r.reject(e)}}),this.$$deferredValidation.promise}},{key:"watch",value:function(e,t){return this.$$model.watch(this.name,e,t||i)}},{key:"on",value:function(e,t){var r=this;if("function"!=typeof t)throw new TypeError("fn must be a valid function");return this.$$listeners.hasOwnProperty(e)||(this.$$listeners[e]=[]),this.$$listeners[e].push(t),function(){return r.off(e,t)}}},{key:"off",value:function(e,t){if("function"!=typeof t)throw new TypeError("fn must be a valid function");var r=this.$$listeners[e];if(r&&r.length>0){var n=r.indexOf(t);n>=0&&r.splice(n,1)}}},{key:"$emit",value:function(e){if(this.$$listeners.hasOwnProperty(e)&&0!==this.$$listeners[e].length)for(var t=this.$$listeners[e].slice(),r=arguments.length,n=r>4?Array.prototype.slice(arguments,1):null,i=0,o=t.length;i<o;++i){var a=t[i];switch(r){case 1:a();break;case 2:a(arguments[1]);break;case 3:a(arguments[1],arguments[2]);break;case 4:a(arguments[1],arguments[2],arguments[3]);break;default:a.apply(void 0,n)}}}},{key:"$completeValidation",value:function(e,t){var r=this.$$deferredValidation;r&&(this.$$deferredValidation=null),this.$$validationState=e?l.Valid:l.Invalid,this.$emit("validate",this,e,t),r&&r.resolve(e)}},{key:"$processValidators",value:function(e){var t=this.$$validators;if(t)for(var r=0,n=t.length;r<n;++r)if(!t[r](this,e))return!1;return!0}},{key:"$processAsyncValidators",value:function(e){var t=this,r=this.$$asyncValidators.map(function(r){return r(t,e)});return this.$$q.all(r).then(function(e){return e.every(function(e){return e})})}}]),e}()},function(e,t,r){"use strict";function n(e,t){if(e!==t)return!1;var r=a.getType(e);return"object"!==r&&"array"!==r}function i(e,t,r,i,o){function u(){var e=Object.assign({$util:a},i),r=!!s(e,t.getState());r!==c&&(c=r,o(c))}o||"function"!=typeof i||(o=i,i=null);var l=[];e=e.replace(/\[([a-zA-Z\$_][\w.]+)\]/g,function(e,t){return l.indexOf(t)<0&&l.push(t),t}),0===l.length&&console.warn("warning: createCondition: conditional expression does not contain any field references and will only be evaluated once");var s=r(e),c=void 0;u();var f=l.map(function(e){return t.watch(e,u,n)});return function(){return f.forEach(function(e){return e()})}}Object.defineProperty(t,"__esModule",{value:!0}),t.createCondition=i;var o=r(0),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(o)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.util=void 0;var n=r(1);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var i=r(3);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var o=r(6),a=function(e){return e&&e.__esModule?e:{default:e}}(o),u=r(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(u);t.util=l,t.default=a.default},function(e,t,r){"use strict";function n(e){var t=e.dependencies||e.prototype.dependencies;if(!t)return function(){return new e};var r=function(){return new(Function.prototype.bind.apply(e,[null].concat(Array.prototype.slice.call(arguments))))};return r.$inject=t,r}Object.defineProperty(t,"__esModule",{value:!0});var i=r(7),o=r(9),a=r(10),u=r(11),l=r(12),s=r(13),c=r(14),f=r(15),d=r(16),v=r(17),y=r(18),h=r(19),p=angular.module("ng-dynamic-model",[]).config(i.ValidationConfig).provider("ValidatorFactory",a.ValidatorFactoryProvider).service("ModelBuilder",o.ModelBuilder).directive("dynamicModel",n(u.DynamicModelDirective)).directive("fieldModelFor",n(l.FieldModelForDirective)).directive("fieldConditionFor",n(s.FieldConditionForDirective)).directive("fieldCondition",n(c.FieldConditionDirective)).directive("fieldValidationFor",n(v.FieldValidationForDirective)).directive("fieldValidationMessageFor",n(y.FieldValidationMessageForDirective)).directive("readonlyFieldFor",n(f.ReadonlyFieldForDirective)).directive("fieldRepeatFor",d.FieldRepeatForDirective).run(h.AddPolyfills);t.default=p.name},function(e,t,r){"use strict";function n(e){e.register("required",i.RequiredValidator)}Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationConfig=n;var i=r(8);n.$inject=["ValidatorFactoryProvider"]},function(e,t,r){"use strict";function n(e,t,r){return!(0,i.empty)(e.value())||(t(r&&r.message||e.label+" is a required field"),!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.RequiredValidator=n;var i=r(0)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelBuilder=void 0;var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1);(t.ModelBuilder=function(){function e(t){n(this,e),this.$$q=t}return i(e,[{key:"build",value:function(e){return new o.Model(this.$$q,e)}}]),e}()).$inject=["$q"]},function(e,t,r){"use strict";function n(){function e(e,r,n){return t.hasOwnProperty(e)&&console.warn('validator-factory: overwriting previously registered validator "'+e+'"'),"function"==typeof r&&(n=r,r=!1),t[e]={async:r,name:e,fn:n},this}var t={};this.register=e,this.$get=function(){return{get:function(e){return t[e]},register:e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.ValidatorFactoryProvider=n},function(e,t,r){"use strict";function n(){}Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicModelDirective=n,n.prototype={restrict:"A",scope:{model:"=dynamicModel"},controller:["$scope",function(e){if(!e.model)throw new TypeError("dynamic-model: invalid model specified");this.model=e.model}]}},function(e,t,r){"use strict";function n(){}Object.defineProperty(t,"__esModule",{value:!0}),t.FieldModelForDirective=n,n.prototype={restrict:"A",require:["^^dynamicModel","ngModel"],link:function(e,t,r,n){function i(e){return s.call(u,e)}function o(e){return function(){var t=e.apply(this,arguments);return a.setValue(this.$modelValue),t}}if(!r.fieldModelFor)throw new TypeError('field-model-for: missing required attribute "field-model-for"');var a=n[0].model.field(r.fieldModelFor),u=n[1],l=u.$commitViewValue,s=u.$$setModelValue;if(void 0===s)throw new TypeError("field-model-for: an internal ngModel function has changed, please complain loudly to the author.");e.$on("$destroy",a.watch(i)),i(a.value()),u.$commitViewValue=o(l),u.$$setModelValue=o(s)}}},function(e,t,r){"use strict";function n(e){this.parser=e}Object.defineProperty(t,"__esModule",{value:!0}),t.FieldConditionForDirective=n;var i=r(4);n.prototype={restrict:"A",dependencies:["$parse"],require:"^^dynamicModel",link:function(e,t,r,n){if(!r.fieldConditionFor||!r.condition)throw new TypeError('field-condition-for: missing required attribute "'+(r.condition?"field-condition-for":"condition")+'"');var o=n.model.field(r.fieldConditionFor),a=0,u=(0,i.createCondition)(r.condition,n.model,this.parser,e,function(e){o.setActive(e),t[e?"show":"hide"](a)});a=r.speed?parseInt(r.speed,10):300,e.$on("$destroy",u)}}},function(e,t,r){"use strict";function n(e){this.parser=e}Object.defineProperty(t,"__esModule",{value:!0}),t.FieldConditionDirective=n;var i=r(4);n.prototype={restrict:"A",dependencies:["$parse"],require:"^^dynamicModel",link:function(e,t,r,n){if(!r.fieldCondition)throw new TypeError('field-condition-for: missing required attribute "field-condition"');var o=0,a=(0,i.createCondition)(r.fieldCondition,n.model,this.parser,e,function(e){t[e?"show":"hide"](o)});o=r.speed?parseInt(r.speed,10):300,e.$on("$destroy",a)}}},function(e,t,r){"use strict";function n(e){this.parse=e}Object.defineProperty(t,"__esModule",{value:!0}),t.ReadonlyFieldForDirective=n;r(2);n.prototype={restrict:"A",require:"^^dynamicModel",dependencies:["$parse"],link:function(e,t,r,n){function i(r){var n=u?u(e,o.getState()):r.value();t.html(n)}if(!r.readonlyFieldFor)throw new TypeError('readonly-field-for: missing required attribute "readonly-field-for"');var o=n.model,a=o.field(r.readonlyFieldFor),u=void 0;r.expr&&(u=this.parse(r.expr)),a.on("change",i),i(a)}}},function(e,t,r){"use strict";function n(e,t){for(var r=0,n=e.length;r<n;++r)if(e[r].value===t)return r;return-1}function i(e,t,r,i){return{restrict:"A",transclude:"element",terminal:!0,priority:10,require:"^^dynamicModel",compile:function(o,a){function c(e,t,r,n){e.scope.$model=e.model,e.scope.$index=t,e.scope.$count=r,e.scope.$sourceIndex=e.index,e.scope.$sourceCount=n}function f(e,t){var r=i.build(t);return r.subscribe(function(){return e.setDirty(!0)}),r}if(!a.fieldRepeatFor)throw new TypeError('field-repeat-for: missing required attribute "field-repeat-for"');return function(i,o,a,d,v){function y(e){var r=[];if(Array.isArray(e))for(var i=0,a=e.length;i<a;++i){var u=e[i];if(!g||g(s,u)){var d=n(b,u),y=d>=0?b.splice(d,1)[0]:{value:u,model:f($,u)};y.index=i,r.push(y)}}for(var h=0,p=b.length;h<p;++h){var m=b[h];t.leave(m.clone),m.clone[0].parentNode&&(m.clone[0][l]=!0),m.scope.$destroy()}for(var w=o[0],V=0,O=r.length;V<O;++V)!function(n,i){var o=r[n];if(o.scope){var a=w;do{a=w.nextSibling}while(a&&a[l]);o.clone[0]!==a&&t.move(o.clone[0],null,w),w=o.clone[0],c(o,n,r.length,e.length)}else v(function(i,a){o.scope=a,t.enter(i,null,w),w=i[0],o.clone=i,c(o,n,r.length,e.length)})}(V);b=r}var h=a.fieldRepeatFor,p=h.match(u);if(null===p)throw new TypeError('field-repeat-for: "'+h+'" is not a valid field name');var $=d.model.field(p[1]),g=a.filter&&r(a.filter),b=[];$.addAsyncValidator(function(t,r){return e.all(b.map(function(e){return e.model.validate()})).then(function(e){return e.every(function(e){return e})})}),$.watch(y),y($.value())}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.FieldRepeatForDirective=i;var o=r(0),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(o),u=/^\s*((?:[a-z_$][a-z0-9_$]*)(?:\.[a-z_$][a-z0-9_$]*)*)\s*$/i,l="$$removed",s={$util:a};i.$inject=["$q","$animate","$parse","ModelBuilder"]},function(e,t,r){"use strict";function n(e){this.validatorFactory=e}function i(e,t){var r=void 0,n=void 0;if("string"==typeof e?n=t.get(e):e&&"object"===(void 0===e?"undefined":o(e))&&e.hasOwnProperty("name")&&(n=t.get(e.name),r=e),!n)throw new Error("field-validation-for: unknown validator encountered ("+JSON.stringify(e)+")");var i=function(e,t){return n.fn.call(n,e,t,r)};return i.async=n.async,i}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.FieldValidationForDirective=n;n.prototype={restrict:"A",require:"^^dynamicModel",dependencies:["ValidatorFactory"],link:function(e,t,r,n){function i(){var e=l.every(function(e){return e.isValidated()&&e.isValid()}),r=l.some(function(e){return e.isValidated()&&!e.isValid()});t[e?"addClass":"removeClass"](u),t[r?"addClass":"removeClass"](a)}var o=this;if(!r.fieldValidationFor)throw new TypeError('field-validation-for: missing required attribute "field-validation-for"');var a=r.invalidClass||"ng-invalid",u=r.validClass||"ng-pristine",l=r.fieldValidationFor.split(",").map(function(e){return n.model.field(e.trim())}),s=l.reduce(function(e,t){return e.push(t.on("change",i)),e.push(t.on("validate",i)),e},[]);if(e.$on("$destroy",function(){return s.forEach(function(e){return e()})}),r.hasOwnProperty("validators"))var c=e.$watch(r.validators,function(e){void 0!==e&&(c(),o.$initialise(l,e))});i()},$initialise:function(e,t){var r=this,n=Array.isArray(t)?t.map(function(e){return i(e,r.validatorFactory)}):[i(t),this.validatorFactory];e.forEach(function(e){n.forEach(function(t){t.async?e.addAsyncValidator(t):e.addValidator(t)})})}}},function(e,t,r){"use strict";function n(e){this.validatorFactory=e}Object.defineProperty(t,"__esModule",{value:!0}),t.FieldValidationMessageForDirective=n;n.prototype={restrict:"A",require:"^^dynamicModel",link:function(e,t,r,n){function i(e,r){t.text(e?"":r),t[!e&&r?"show":"hide"]()}if(!r.fieldValidationMessageFor)throw new TypeError('field-validation-message-for: missing required attribute "field-validation-message-for"');var o=n.model.field(r.fieldValidationMessageFor),a=[o.on("change",function(){return i(!0)}),o.on("validate",function(e,t,r){return i(t,r[0])})];e.$on("$destroy",function(){return a.forEach(function(e){return e()})}),i(!0)}}},function(e,t,r){"use strict";function n(){void 0===angular.element.prototype.show&&(angular.element.prototype.show=i),void 0===angular.element.prototype.hide&&(angular.element.prototype.hide=o)}function i(){var e=this.data(a)||"block";this.css("display",e)}function o(){if(!this.data(a)){var e=this.css("display")||getComputedStyle(this[0],null).display;this.data(a,e&&"none"!==e?e:"block")}this.css("display","none")}Object.defineProperty(t,"__esModule",{value:!0}),t.AddPolyfills=n;var a="ng-dm-polyfill-display"}])});